<% value = revision.performance_snapshot.http_max_concurrency %>
<% max = revision.performance_snapshot.http_original_max_concurrency %>

const httpMaxConcurrencyGaugeChart = new window.Charts.gaugeChart(
    'current_http_max_concurrency',
    {
        name: 'Request concurrency',
        value: <%= value %>,
        min: <%= PerformanceSnapshot::MIN_MAX_CONCURRENCY %>,
        max: <%= max %>,
        unit: 'open connections'
    }
);

httpMaxConcurrencyGaugeChart.initializeChart();

<% if local_assigns[:update] %>
    httpMaxConcurrencyGaugeChart.updateDataset({
        value: <%= value %>,
        max: <%= max %>
    });
<% end %>
