<% value = revision.performance_snapshot.total_average_app_time.to_f.round( 2 ) %>

const currentTotalAverageAppTimeGaugeChart = new window.Charts.gaugeChart(
    'current_total_average_app_time',
    {
        name: 'Application responsiveness',
        value: <%= value %>,
        min: 0,
        max: <%= PerformanceSnapshot::MAX_TOTAL_AVERAGE_APP_TIME %>,
        unit: 'seconds/response',
        better: 'low'
    }
);

currentTotalAverageAppTimeGaugeChart.initializeChart();

<% if local_assigns[:update] %>
    currentTotalAverageAppTimeGaugeChart.updateDataset({
        value: <%= value %>
    });
<% end %>
