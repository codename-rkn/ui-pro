<%
   disabled_edit   = nil
   disabled_delete = nil
   if profile.scans.any?
       disabled_delete = 'Cannot delete profile with associated scans.'
       disabled_edit   = 'Cannot edit profile with associated scans.'
   end
   if profile.default?
       disabled_delete = 'Cannot delete default profile.'
   end
%>

<%= link_to copy_profile_path( profile ),
            class: 'btn btn-sm btn-primary' do %>
    <i class="fa fa-copy"></i>
<% end %>

<span data-title="<%= disabled_edit %>" data-toggle="tooltip">
    <%= link_to edit_profile_path( profile ),
            class: "btn btn-sm btn-warning #{'disabled' if disabled_edit}" do %>
        <i class="fa fa-pencil"></i>
    <% end %>
</span>

<span data-title="<%= disabled_delete %>" data-toggle="tooltip">
    <%= link_to profile, method: :delete,
                class: "btn btn-sm btn-danger #{'disabled' if disabled_delete}",
                data: { confirm: 'Are you sure?' } do %>
        <i class="fa fa-trash"></i>
    <% end %>
</span>

<div class="btn-group" role="group">
    <button id="profile-export-button" type="button"
            class="btn btn-sm btn-inverse dropdown-toggle"
            data-toggle="dropdown">

        <i class="fa fa-download"></i>
        <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <li>
            <%= link_to profile_path( profile, format: :yaml ) do %>
                YAML
            <% end %>
        </li>
        <li>
            <%= link_to profile_path( profile, format: :json ) do %>
                JSON
            <% end %>
        </li>
        <li>
            <%= link_to profile_path( profile, format: :afp ) do %>
                AFP (Suitable for the CLI interface.)
            <% end %>
        </li>
    </ul>
</div>
